# Hyperlane Starknet Core

The Hyperlane Starknet Core package provides TypeScript tooling for interacting with Hyperlane's Cairo contracts on Starknet. It includes TypeScript artifacts autogenerated from Cairo contracts developed by [Astraly Labs](https://github.com/astraly-labs/hyperlane_starknet).

## Features

- Pre-compiled Cairo contract artifacts
- TypeScript bindings for Starknet contracts
- Utilities for working with Hyperlane messaging on Starknet

## Installation

```bash
# Install with NPM
npm install @hyperlane-xyz/starknet-core

# Or with Yarn
yarn add @hyperlane-xyz/starknet-core
```

## Requirements

- Node.js 18 or newer
- For development: `curl`, `jq`, and `unzip` utilities

## Usage

```typescript
import {
  ContractType,
  getCompiledContract,
} from '@hyperlane-xyz/starknet-core';

// Get the Hyperlane mailbox contract
const mailboxContract = getCompiledContract('mailbox');

// Get token contracts
const tokenContract = getCompiledContract('erc20', ContractType.TOKEN);

// Get mock contracts
const mockContract = getCompiledContract('mock_validator', ContractType.MOCK);
```

## Contract Categories

Contracts are organized into three categories:

- `contracts`: Core Hyperlane protocol contracts
- `tokens`: Token implementation contracts
- `mocks`: Test and mock contracts

## Development

### Setup

1. Clone the repository
2. Install dependencies: `yarn install`

### Workflow

#### 1. Fetching Contract Artifacts

The Cairo contracts are automatically fetched from GitHub releases during the build process. The version is determined by the `version` field in `package.json`:

```bash
yarn prepare-contracts
```

This downloads the contract artifacts from the [Astraly Labs Hyperlane Starknet repository](https://github.com/astraly-labs/hyperlane_starknet).

#### 2. Generating TypeScript Artifacts

Generate TypeScript artifacts from the Cairo contracts:

```bash
yarn generate-artifacts
```

This creates JavaScript and TypeScript declaration files in the `dist/artifacts` directory.

#### 3. Building the Project

```bash
yarn build
```

This runs TypeScript compilation, contract preparation, and artifact generation. Build output is placed in the `dist` directory.

## License

Apache 2.0
